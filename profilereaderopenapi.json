{
    "openapi": "3.0.1",
    "info": {
      "title": "User Management Plugin",
      "description": "A plugin that allows for basic user operations like adding, fetching, and updating user profiles.",
      "version": "v1"
    },
    "servers": [
      {
        "url": "https://scary-fashion-eel.cyclic.app"
      }
    ],
    "paths": {
        "/addUser": {
            "post": {
                "operationid": "addUser",
                "summary": "Add a new user",
                "requestBody": {
                    "description": "User to be added, make sure user provides their name, email and password, if not provided, respond with a request for them to provide it",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/User"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/User"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "error": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/getUser/{userid}": {
            "get": {
                "operationid": "getUser",
                "summary": "Get a user by id, make sure user provides id, if not respond with a prompt asking for their id, if user does not exist, ask user if they entered the correct id or if they would like to register",
                "parameters": [
                    {
                        "in": "path",
                        "name": "userid",
                        "schema": {
                            "type": "string"
                        },
                        "required": true,
                        "description": "The id of the user."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/User"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "error": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/updateUser/{userid}": {
            "put": {
                "operationid": "updateUser",
                "summary": "Update an existing user",
                "parameters": [
                    {
                        "in": "path",
                        "name": "userid",
                        "schema": {
                            "type": "string"
                        },
                        "required": true,
                        "description": "The id of the user."
                    }
                ],
                "requestBody": {
                    "description": "Updated user fields",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/User"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/User"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "error": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
      "/deleteUser/{userid}": {
        "delete": {
          "operationid": "deleteUser",
          "summary": "Delete a user from the database",
          "parameters": [
            {
              "in": "path",
              "name": "userid",
              "schema": {
                "type": "string"
              },
              "required": true,
              "description": "The id of the user to be deleted."
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/User"
                  }
                }
              }
            },
            "400": {
              "description": "Bad Request",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "error": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
      "components": {
        "schemas": {
            "User": {
                "type": "object",
                "properties": {
                    "userid": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "email": {
                        "type": "string",
                        "format": "email"
                    },
                    "password": {
                        "type": "string"
                    }
                },
                "required": ["userid", "name", "email", "password"]
            },
            "Error": {
              "type": "object",
              "properties": {
                  "errorcode": {
                      "type": "string"
                  },
                  "message": {
                      "type": "string"
                  }
              },
              "required": ["errorcode", "message"]
          }
        }
    }
  }